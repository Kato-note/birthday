<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
<title>KISA & KOTYA</title>

<style>
html, body{
  margin:0; padding:0; height:100%;
  overflow:hidden;
  font-family: Arial, sans-serif;
  background: linear-gradient(180deg, #ffd6e7, #ffeef5);
}

/* –ü–ª–∞–≤–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ */
.heart{
  position:fixed;
  font-size:20px;
  animation: floatUp 6s linear infinite;
  opacity:0.7;
}

@keyframes floatUp{
  from{ transform:translateY(100vh); opacity:0; }
  10%{ opacity:0.8; }
  to{ transform:translateY(-10vh); opacity:0; }
}

#app{
  position:fixed; inset:0;
  display:flex;
  flex-direction:column;
}

.header{
  padding:16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(6px);
}

.title{
  font-weight:900;
  font-size:16px;
  color:#ff4d8d;
}

.hearts{
  font-size:20px;
}

.main{
  flex:1;
  display:flex;
  flex-direction:column;
  justify-content:center;
  padding:18px;
}

.card{
  background:white;
  border-radius:24px;
  padding:20px;
  box-shadow:0 15px 40px rgba(255, 100, 150, 0.3);
}

.sceneTop{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:10px;
}

.cat{
  width:60px; height:60px;
  border-radius:18px;
  display:grid;
  place-items:center;
  background:#ffe6f0;
  font-size:30px;
}

.sceneName{
  font-weight:900;
  font-size:15px;
  color:#ff4d8d;
}

.sceneHint{
  font-size:12px;
  color:#ff85b3;
}

.text{
  margin-top:12px;
  font-size:15px;
  color:#5c2a3b;
}

.choices{
  margin-top:16px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.choiceBtn{
  padding:14px;
  border-radius:18px;
  border:none;
  background:#ffe6f0;
  color:#5c2a3b;
  font-weight:700;
  font-size:14px;
}

.choiceBtn:active{
  transform:scale(0.98);
}

.toast{
  margin-top:10px;
  font-size:13px;
  color:#d63384;
}

.footer{
  margin-top:14px;
  display:flex;
  gap:10px;
}

.smallBtn{
  flex:1;
  padding:12px;
  border-radius:18px;
  border:none;
  background:#ff4d8d;
  color:white;
  font-weight:900;
}

.smallBtn.secondary{
  background:#ffd6e7;
  color:#5c2a3b;
}

.overlay{
  position:fixed; inset:0;
  background:rgba(255, 200, 220, 0.95);
  display:none;
  align-items:center;
  justify-content:center;
  text-align:center;
}

.big{
  background:white;
  padding:30px;
  border-radius:30px;
  box-shadow:0 20px 50px rgba(255,100,150,0.4);
}

.code{
  font-size:48px;
  font-weight:900;
  color:#ff4d8d;
}
</style>
</head>

<body>

<div id="app">
  <div class="header">
    <div class="title">KISA & KOTYA üíó</div>
    <div class="hearts" id="hearts">‚ô° ‚ô° ‚ô°</div>
  </div>

  <div class="main">
    <div class="card">
      <div class="sceneTop">
        <div class="cat" id="catIcon">üê±</div>
        <div>
          <div class="sceneName" id="sceneName"></div>
          <div class="sceneHint" id="sceneHint"></div>
        </div>
      </div>

      <div class="text" id="sceneText"></div>
      <div class="choices" id="choices"></div>
      <div class="toast" id="toast"></div>
    </div>

    <div class="footer">
      <button class="smallBtn secondary" id="restartBtn">–°–Ω–∞—á–∞–ª–∞</button>
      <button class="smallBtn" id="skipBtn">–ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
    </div>
  </div>
</div>

<div class="overlay" id="overlay">
  <div class="big">
    <h2>–¢—ã —Å–æ–±—Ä–∞–ª 3 —Å–µ—Ä–¥—Ü–∞ üíï</h2>
    <div class="code">C4</div>
    <p>–ö–æ—Ç—è –≥–æ—Ä–¥–∏—Ç—Å—è —Ç–æ–±–æ–π üòΩ</p>
  </div>
</div>

<script>
// –ü–ª–∞–≤–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏
function createHeart(){
  const heart=document.createElement("div");
  heart.className="heart";
  heart.innerText="üíó";
  heart.style.left=Math.random()*100+"vw";
  heart.style.fontSize=(16+Math.random()*20)+"px";
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),6000);
}
setInterval(createHeart,800);

// –°—Ü–µ–Ω—ã
const scenes=[
{
name:"–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ",
hint:"–ò–Ω–æ–≥–¥–∞ –ª—é–±–æ–≤—å ‚Äî —ç—Ç–æ —Ç–∏—à–∏–Ω–∞.",
text:"–ù–æ—á—å. –ö–∏—Å–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —É—Å—Ç–∞–≤—à–∏–π. –ö–æ—Ç—è —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –Ω–µ–≥–æ –∏ —á—É–≤—Å—Ç–≤—É–µ—Ç: —Å–µ–π—á–∞—Å –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ ‚Äî —Ç–µ–ø–ª–æ.",
choices:[
{t:"–ú–æ–ª—á–∞ —Å–¥–µ–ª–∞—Ç—å —á–∞–π –∏ —Å–µ—Å—Ç—å —Ä—è–¥–æ–º",ok:true,msg:"–í–æ—Ç –æ–Ω–æ. –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ."},
{t:"–ù–∞—á–∞—Ç—å —Ä–∞—Å—Å–ø—Ä–∞—à–∏–≤–∞—Ç—å —Å –ø–æ—Ä–æ–≥–∞",ok:false,msg:"–°–ª–∏—à–∫–æ–º —Ä–µ–∑–∫–æ."},
{t:"–°–∫–∞–∑–∞—Ç—å ¬´–Ω—É —Ç—ã –∫–∞–∫ –æ–±—ã—á–Ω–æ¬ª",ok:false,msg:"–ù–µ —Å–µ–≥–æ–¥–Ω—è üòº"},
{t:"–£–π—Ç–∏ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω",ok:false,msg:"–û–Ω –Ω–µ –Ω–µ–≤–∏–¥–∏–º—ã–π."}
]
},
{
name:"–ë–ª–∏–∂–µ",
hint:"–ù–∞—Å—Ç–æ—è—â–µ–µ ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Å—Ç–æ–µ.",
text:"–ö–∏—Å–∞ –º–æ–ª—á–∏—Ç, –Ω–æ –≤ –µ–≥–æ –≤–∑–≥–ª—è–¥–µ —Ç–µ–ø–ª–æ. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ö–æ—Ç—è?",
choices:[
{t:"–ü–æ–¥–æ–π—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ –æ–±–Ω—è—Ç—å",ok:true,msg:"–¢–æ—á–Ω–æ."},
{t:"–°–∫–∞–∑–∞—Ç—å –¥–ª–∏–Ω–Ω—É—é —Ä–µ—á—å",ok:false,msg:"–õ–∏—à–Ω–µ–µ."},
{t:"–ü–æ—à—É—Ç–∏—Ç—å —Ä–µ–∑–∫–æ",ok:false,msg:"–ù–µ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç."},
{t:"–ñ–¥–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞ –æ—Ç –Ω–µ–≥–æ",ok:false,msg:"–ò–Ω–æ–≥–¥–∞ —à–∞–≥ ‚Äî –∑–∞ —Ç–æ–±–æ–π."}
]
},
{
name:"–í–∞—à–∏ —Å–ª–æ–≤–∞",
hint:"–°–∫–∞–∂–∏ —Å–µ—Ä–¥—Ü–µ–º.",
text:"–£–∂–µ –ª–µ–≥—á–µ. –û–Ω —É–ª—ã–±–∞–µ—Ç—Å—è. –ß—Ç–æ –∑–≤—É—á–∏—Ç –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É?",
choices:[
{t:"¬´–ö–∏—Å–∞‚Ä¶ —è —Ç–≤–æ—è –ö–æ—Ç—è. –ò —è —Ä—è–¥–æ–º.¬ª",ok:true,msg:"–ò–¥–µ–∞–ª—å–Ω–æ."},
{t:"¬´–ù—É –ª–∞–¥–Ω–æ, –∂–∏–≤–∏¬ª",ok:false,msg:"–ê—Ö–∞—Ö–∞, –Ω–æ –Ω–µ—Ç."},
{t:"¬´–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω¬ª",ok:false,msg:"–°–ª–∏—à–∫–æ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ."},
{t:"¬´–î–æ–∫–∞–∂–∏ –ª—é–±–æ–≤—å¬ª",ok:false,msg:"–ù–µ —Å–µ–≥–æ–¥–Ω—è üòΩ"}
]
}
];

let step=0,hearts=0;
const heartsEl=document.getElementById("hearts");
const sceneNameEl=document.getElementById("sceneName");
const sceneHintEl=document.getElementById("sceneHint");
const sceneTextEl=document.getElementById("sceneText");
const choicesEl=document.getElementById("choices");
const toastEl=document.getElementById("toast");
const overlay=document.getElementById("overlay");

function renderHearts(){
heartsEl.textContent=Array.from({length:3},(_,i)=>i<hearts?"üíó":"‚ô°").join(" ");
}

function renderScene(){
const s=scenes[step];
sceneNameEl.textContent=s.name;
sceneHintEl.textContent=s.hint;
sceneTextEl.textContent=s.text;
choicesEl.innerHTML="";
toastEl.textContent="";
s.choices.forEach(c=>{
const btn=document.createElement("button");
btn.className="choiceBtn";
btn.textContent=c.t;
btn.onclick=()=>choose(c);
choicesEl.appendChild(btn);
});
}

function choose(c){
if(c.ok){
hearts++; renderHearts();
setTimeout(()=>{
step++;
if(step>=scenes.length){
localStorage.setItem("game2Complete","true");
overlay.style.display="flex";
setTimeout(()=>window.location.href="game3.html",3000);
}else renderScene();
},600);
}else{
toastEl.textContent="–ü–æ–ø—Ä–æ–±—É–π –∏–Ω–∞—á–µ üíó";
}
}

renderHearts();
renderScene();
</script>
</body>
</html>